{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./src/map.js","webpack:///./src/libs/polyfill/window/promise.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/process/browser.js","webpack:///./src/libs/polyfill/window/fetch.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","e","window","_typeof","__webpack_exports__","MapView","map","zoomControl","tileLayer","timeLayers","d60Layer","d30Layer","w30Layer","centres","L","attribution","accessToken","minZoom","maxZoom","on","getCenter","z","getZoom","url","concat","lng","lat","history","replaceState","setupMap","centreMarkers","_this","control","zoom","position","layers","Driving within 60 minutes","Driving within 30 minutes","Walking within 30 minutes","collapsed","setZIndex","addTo","forEach","marker","MapModel","mapView","dataDownloads","d60Json","d30Json","w30Json","downloadMapData","regionCode","_this2","d3","json","then","geoJson","color","opacity","weight","fillOpacity","registerDownload","csv","data","location","longitude","latitude","bindPopup","postcode","closeButton","openPopup","push","getQueryString","param","v","search","substring","split","length","long","sc","getFloatParam","val","defVal","isNaN","parseFloat","zoomLevel","maxBounds","latLngBounds","latLng","setView","mapModel","start","factory","finallyConstructor","callback","constructor","resolve","reason","reject","setTimeoutFunc","setTimeout","noop","Promise","fn","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","promise","newValue","finale","thisArg","apply","arguments","_unhandledRejectionFn","len","Handler","done","ex","prom","all","arr","args","Array","slice","remaining","res","race","values","setImmediate","err","console","warn","globalNS","global","Error","__WEBPACK_AMD_DEFINE_RESULT__","define","__WEBPACK_AMD_DEFINE_FACTORY__","scope","Timeout","id","clearFn","_id","_clearFn","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","require","clearImmediate","process","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","source","indexOf","addEventListener","attachEvent","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","runClearTimeout","Item","array","title","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","fetch","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isDataView","obj","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","Headers","append","normalizeName","normalizeValue","oldValue","has","set","keys","items","iteratorFor","entries","iterator","methods","Request","clone","body","_bodyInit","Body","Response","status","statusText","headers","error","response","type","redirectStatuses","redirect","RangeError","input","init","request","xhr","XMLHttpRequest","onload","rawHeaders","options","getAllResponseHeaders","line","parts","shift","trim","join","responseURL","responseText","onerror","ontimeout","open","method","credentials","withCredentials","responseType","setRequestHeader","send","polyfill","String","test","toLowerCase","next","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","result","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","_initBody","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","text","readAsText","chars","fromCharCode","readArrayBufferAsText","decode","JSON","parse","upcased","toUpperCase","referrer","form","bytes","replace","decodeURIComponent","bodyInit","ok"],"mappings":"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","file":"map.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import \"./libs/polyfill/window/promise.js\";\nimport \"./libs/polyfill/window/fetch.js\";\n\n/* Constructor for the MapView, a singleton that manages the state of the map. */\nfunction MapView(map) {\n\n\tthis.map = map;\n    this.zoomControl = null;\n\tthis.tileLayer = null;\n\tthis.timeLayers = null;\n\tthis.d60Layer = null;\n\tthis.d30Layer = null;\n    this.w30Layer = null;\n    this.centres = null;\n\n    /* Mapbox tileLayer settings {id} */\n    const tileLayerPath = \"https://api.mapbox.com/styles/v1/hawkinsohocl/cjxa85mpa01ws1ckezki29p3i/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiaGF3a2luc29ob2NsIiwiYSI6IjNmMmZkMzY4MTUwZGNiMjE4NTExOWQwNDBjNzg4NjAzIn0.bv8BBlUo7MtQR544YviGZQ\";\n    const tileLayerAttribution = \"<a href=\\\"http://commonslibrary.parliament.uk\\\">House of Commons Library</a>, Imagery © <a href=\\\"http://mapbox.com\\\">Mapbox</a>\";\n    const tileLayerAccessToken = \"pk.eyJ1IjoiaGF3a2luc29ob2NsIiwiYSI6IjNmMmZkMzY4MTUwZGNiMjE4NTExOWQwNDBjNzg4NjAzIn0.bv8BBlUo7MtQR544YviGZQ\";\n    const tileLayerMinZoom = 5;\n    const tileLayerMaxZoom = 18;\n\n    this.tileLayer = L.tileLayer(tileLayerPath, {\n    \tattribution: tileLayerAttribution,\n        accessToken: tileLayerAccessToken,\n        minZoom: tileLayerMinZoom,\n        maxZoom: tileLayerMaxZoom\n    });\n\n\t// Set the map to update the query string with the current position\n\tthis.map.on(\"moveend\", () => {\n\t\tconst c = map.getCenter();\n\t\tconst z = map.getZoom();\n\t\tconst url = `?long=${c.lng}&lat=${c.lat}&zoom=${z}`;\n\t\thistory.replaceState(null, null, url);\n\t});\n\n\t// Sets up the map from the downloaded data\n\tthis.setupMap = function(d60Layer, d30Layer, w30Layer, centreMarkers) {\n\n        this.zoomControl = L.control.zoom({position:'topright'});\n\n\t\tthis.d60Layer = d60Layer;\n\t\tthis.d30Layer = d30Layer;\n\t\tthis.w30Layer = w30Layer;\n        this.centreMarkers = centreMarkers;\n\n\t\tvar layers = {\n\t\t\t'Driving within 60 minutes': d60Layer,\n\t\t\t'Driving within 30 minutes': d30Layer,\n\t\t\t'Walking within 30 minutes': w30Layer\n\t\t};\n\n\t\t// Creates a layer group control\n\t\tthis.timeLayers = L.control.layers({}, layers,\n\t\t\t{position: 'bottomright', collapsed: false});\n\n\t\tthis.d60Layer.setZIndex(1);\n\t\tthis.d30Layer.setZIndex(2);\n\t\tthis.w30Layer.setZIndex(3);\n\n\t\tthis.tileLayer.addTo(this.map);\n\t\tthis.d60Layer.addTo(this.map);\n\t\tthis.d30Layer.addTo(this.map);\n\t\tthis.w30Layer.addTo(this.map);\n\n        this.centreMarkers.forEach(marker => {\n            marker.addTo(this.map);\n        });\n\n        this.timeLayers.addTo(this.map);\n        this.zoomControl.addTo(this.map);\n\t};\n};\n\n\n/* Constructor for the MapModel object, a singleton that manages the MapView. */\nfunction MapModel(mapView) {\n\n    this.mapView = mapView;\n    this.dataDownloads = 4;\n    this.d60Json = null;\n    this.d30Json = null;\n    this.w30Json = null;\n    this.centres = null;\n    this.d60Layer = null;\n    this.d30Layer = null;\n    this.w30Layer = null;\n    this.centreMarkers = null;\n\n\t// Sets up the initial map by loading the regional boundaries\n\tthis.downloadMapData = function(regionCode) {\n\n        /* Load data */\n        d3.json(\"drive-60.json\").then(json => {\n            this.d60Json = json;\n            this.d60Layer = L.geoJson(this.d60Json, {\n                color: '#046a38',\n                opacity: 0,\n                weight: 1,\n                fillOpacity: 0.4});\n            this.registerDownload();\n        });\n\n        d3.json(\"drive-30.json\").then(json => {\n            this.d30Json = json;\n            this.d30Layer = L.geoJson(this.d30Json, {\n                color: '#046a38',\n                opacity: 0,\n                weight: 1,\n                fillOpacity: 0.4});\n            this.registerDownload();\n        });\n\n        d3.json(\"walk-30.json\").then(json => {\n            this.w30Json = json;\n            this.w30Layer = L.geoJson(this.w30Json, {\n                color: '#046a38',\n                opacity: 0,\n                weight: 1,\n                fillOpacity: 0.4});\n            this.registerDownload();\n        });\n\n        d3.csv(\"scanning-centres.csv\").then(data => {\n            this.centres = data;\n            this.centreMarkers = [];\n            this.centres.forEach(location => {\n                let marker = L.marker([+location.longitude, +location.latitude]);\n                marker.bindPopup(`<b>${location.name}</b><br>${location.postcode}`, {closeButton: false}).openPopup();\n                this.centreMarkers.push(marker);\n            });\n            this.registerDownload();\n        });\n\t}\n\n    // Tracks asynhcronous downloads\n\tthis.registerDownload = function() {\n\t\tthis.dataDownloads = this.dataDownloads - 1;\n\t\tif (this.dataDownloads === 0) {\n\t\t\tthis.mapView.setupMap(\n                this.d60Layer,\n                this.d30Layer,\n                this.w30Layer,\n                this.centreMarkers\n            );\n\t\t}\n\t};\n}\n\nfunction start(long, lat, zoom) {\n\n    // Set up application object\n    const sc = {};\n\n\t// Check the parameters are sane and set to defaults if not\n    const getFloatParam = (val, defVal) => {\n        if (val == null || val == false || isNaN(parseFloat(val))) {\n            return defVal;\n        } else {\n            return parseFloat(val);\n        }\n    };\n\n    const longitude = getFloatParam(long, -4.0);\n    const latitude = getFloatParam(lat, 54.8);\n    const zoomLevel = getFloatParam(zoom, 6);\n\n    // Create the map\n    const map = L.map('map', {\n\t\tzoomControl: false,\n\t\tmaxBounds: L.latLngBounds(\n\t\t\tL.latLng(73.0, -60.0),\n\t\t\tL.latLng(25.0, 50.0))\n\t\t});\n    map.setView([latitude,  longitude], zoomLevel);\n\n    // Initialise the MVC objects\n    const mapView = new MapView(map);\n    const mapModel = new MapModel(mapView);\n\n    // Add an interface to the mvc objects\n    sc.mapView = mapView;\n    sc.mapModel = mapModel;\n\n    // Setup the map\n    mapModel.downloadMapData();\n\n    return sc;\n}\n\nfunction getQueryString(param) {\n    const qs = window.location.search.substring(1);\n    const v = qs.split(\"&\");\n    for (let i = 0; i < v.length; i++) {\n        const p = v[i].split(\"=\");\n        if (p[\"0\"] == param) return p[\"1\"];\n    }\n    return null;\n};\n\n\nconst long = getQueryString(\"long\");\nconst lat = getQueryString(\"lat\");\nconst zoom = getQueryString(\"zoom\");\nwindow.sc = start(long, lat, zoom);\n","/*\nmethod: window.Promise\nsource: https://www.npmjs.com/package/promise-polyfill\n*/\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!('Promise' in globalNS)) {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = finallyConstructor;\n}\n\n})));\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*\nmethod: window.fetch\nsource: https://github.com/github/fetch\n*/\n\n(function(self) {\n    \"use strict\";\n\n    if (self.fetch) {\n        return\n    }\n\n    var support = {\n        searchParams: \"URLSearchParams\" in self,\n        iterable: \"Symbol\" in self && \"iterator\" in Symbol,\n        blob: \"FileReader\" in self && \"Blob\" in self && (function() {\n            try {\n                new Blob()\n                return true\n            } catch(e) {\n                return false\n            }\n        })(),\n        formData: \"FormData\" in self,\n        arrayBuffer: \"ArrayBuffer\" in self\n    }\n\n    if (support.arrayBuffer) {\n        var viewClasses = [\n            \"[object Int8Array]\",\n            \"[object Uint8Array]\",\n            \"[object Uint8ClampedArray]\",\n            \"[object Int16Array]\",\n            \"[object Uint16Array]\",\n            \"[object Int32Array]\",\n            \"[object Uint32Array]\",\n            \"[object Float32Array]\",\n            \"[object Float64Array]\"\n        ]\n\n        var isDataView = function(obj) {\n            return obj && DataView.prototype.isPrototypeOf(obj)\n        }\n\n        var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n            return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n        }\n    }\n\n    function normalizeName(name) {\n        if (typeof name !== \"string\") {\n            name = String(name)\n        }\n        if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n            throw new TypeError(\"Invalid character in header field name\")\n        }\n        return name.toLowerCase()\n    }\n\n    function normalizeValue(value) {\n        if (typeof value !== \"string\") {\n            value = String(value)\n        }\n        return value\n    }\n\n    // Build a destructive iterator for the value list\n    function iteratorFor(items) {\n        var iterator = {\n            next: function() {\n                var value = items.shift()\n                return {done: value === undefined, value: value}\n            }\n        }\n\n        if (support.iterable) {\n            iterator[Symbol.iterator] = function() {\n                return iterator\n            }\n        }\n\n        return iterator\n    }\n\n    function Headers(headers) {\n        this.map = {}\n\n        if (headers instanceof Headers) {\n            headers.forEach(function(value, name) {\n                this.append(name, value)\n            }, this)\n\n        } else if (headers) {\n            Object.getOwnPropertyNames(headers).forEach(function(name) {\n                this.append(name, headers[name])\n            }, this)\n        }\n    }\n\n    Headers.prototype.append = function(name, value) {\n        name = normalizeName(name)\n        value = normalizeValue(value)\n        var oldValue = this.map[name]\n        this.map[name] = oldValue ? oldValue+\",\"+value : value\n    }\n\n    Headers.prototype[\"delete\"] = function(name) {\n        delete this.map[normalizeName(name)]\n    }\n\n    Headers.prototype.get = function(name) {\n        name = normalizeName(name)\n        return this.has(name) ? this.map[name] : null\n    }\n\n    Headers.prototype.has = function(name) {\n        return this.map.hasOwnProperty(normalizeName(name))\n    }\n\n    Headers.prototype.set = function(name, value) {\n        this.map[normalizeName(name)] = normalizeValue(value)\n    }\n\n    Headers.prototype.forEach = function(callback, thisArg) {\n        for (var name in this.map) {\n            if (this.map.hasOwnProperty(name)) {\n                callback.call(thisArg, this.map[name], name, this)\n            }\n        }\n    }\n\n    Headers.prototype.keys = function() {\n        var items = []\n        this.forEach(function(value, name) { items.push(name) })\n        return iteratorFor(items)\n    }\n\n    Headers.prototype.values = function() {\n        var items = []\n        this.forEach(function(value) { items.push(value) })\n        return iteratorFor(items)\n    }\n\n    Headers.prototype.entries = function() {\n        var items = []\n        this.forEach(function(value, name) { items.push([name, value]) })\n        return iteratorFor(items)\n    }\n\n    if (support.iterable) {\n        Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n    }\n\n    function consumed(body) {\n        if (body.bodyUsed) {\n            return Promise.reject(new TypeError(\"Already read\"))\n        }\n        body.bodyUsed = true\n    }\n\n    function fileReaderReady(reader) {\n        return new Promise(function(resolve, reject) {\n            reader.onload = function() {\n                resolve(reader.result)\n            }\n            reader.onerror = function() {\n                reject(reader.error)\n            }\n        })\n    }\n\n    function readBlobAsArrayBuffer(blob) {\n        var reader = new FileReader()\n        var promise = fileReaderReady(reader)\n        reader.readAsArrayBuffer(blob)\n        return promise\n    }\n\n    function readBlobAsText(blob) {\n        var reader = new FileReader()\n        var promise = fileReaderReady(reader)\n        reader.readAsText(blob)\n        return promise\n    }\n\n    function readArrayBufferAsText(buf) {\n        var view = new Uint8Array(buf)\n        var chars = new Array(view.length)\n\n        for (var i = 0; i < view.length; i++) {\n            chars[i] = String.fromCharCode(view[i])\n        }\n        return chars.join(\"\")\n    }\n\n    function bufferClone(buf) {\n        if (buf.slice) {\n            return buf.slice(0)\n        } else {\n            var view = new Uint8Array(buf.byteLength)\n            view.set(new Uint8Array(buf))\n            return view.buffer\n        }\n    }\n\n    function Body() {\n        this.bodyUsed = false\n\n        this._initBody = function(body) {\n            this._bodyInit = body\n            if (!body) {\n                this._bodyText = \"\"\n            } else if (typeof body === \"string\") {\n                this._bodyText = body\n            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n                this._bodyBlob = body\n            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n                this._bodyFormData = body\n            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n                this._bodyText = body.toString()\n            } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n                this._bodyArrayBuffer = bufferClone(body.buffer)\n                // IE 10-11 can\"t handle a DataView body.\n                this._bodyInit = new Blob([this._bodyArrayBuffer])\n            } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n                this._bodyArrayBuffer = bufferClone(body)\n            } else {\n                throw new Error(\"unsupported BodyInit type\")\n            }\n\n            if (!this.headers.get(\"content-type\")) {\n                if (typeof body === \"string\") {\n                    this.headers.set(\"content-type\", \"text/plain;charset=UTF-8\")\n                } else if (this._bodyBlob && this._bodyBlob.type) {\n                    this.headers.set(\"content-type\", this._bodyBlob.type)\n                } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n                    this.headers.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\")\n                }\n            }\n        }\n\n        if (support.blob) {\n            this.blob = function() {\n                var rejected = consumed(this)\n                if (rejected) {\n                    return rejected\n                }\n\n                if (this._bodyBlob) {\n                    return Promise.resolve(this._bodyBlob)\n                } else if (this._bodyArrayBuffer) {\n                    return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n                } else if (this._bodyFormData) {\n                    throw new Error(\"could not read FormData body as blob\")\n                } else {\n                    return Promise.resolve(new Blob([this._bodyText]))\n                }\n            }\n\n            this.arrayBuffer = function() {\n                if (this._bodyArrayBuffer) {\n                    return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n                } else {\n                    return this.blob().then(readBlobAsArrayBuffer)\n                }\n            }\n        }\n\n        this.text = function() {\n            var rejected = consumed(this)\n            if (rejected) {\n                return rejected\n            }\n\n            if (this._bodyBlob) {\n                return readBlobAsText(this._bodyBlob)\n            } else if (this._bodyArrayBuffer) {\n                return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n            } else if (this._bodyFormData) {\n                throw new Error(\"could not read FormData body as text\")\n            } else {\n                return Promise.resolve(this._bodyText)\n            }\n        }\n\n        if (support.formData) {\n            this.formData = function() {\n                return this.text().then(decode)\n            }\n        }\n\n        this.json = function() {\n            return this.text().then(JSON.parse)\n        }\n\n        return this\n    }\n\n    // HTTP methods whose capitalization should be normalized\n    var methods = [\"DELETE\", \"GET\", \"HEAD\", \"OPTIONS\", \"POST\", \"PUT\"]\n\n    function normalizeMethod(method) {\n        var upcased = method.toUpperCase()\n        return (methods.indexOf(upcased) > -1) ? upcased : method\n    }\n\n    function Request(input, options) {\n        options = options || {}\n        var body = options.body\n\n        if (input instanceof Request) {\n            if (input.bodyUsed) {\n                throw new TypeError(\"Already read\")\n            }\n            this.url = input.url\n            this.credentials = input.credentials\n            if (!options.headers) {\n                this.headers = new Headers(input.headers)\n            }\n            this.method = input.method\n            this.mode = input.mode\n            if (!body && input._bodyInit != null) {\n                body = input._bodyInit\n                input.bodyUsed = true\n            }\n        } else {\n            this.url = String(input)\n        }\n\n        this.credentials = options.credentials || this.credentials || \"omit\"\n        if (options.headers || !this.headers) {\n            this.headers = new Headers(options.headers)\n        }\n        this.method = normalizeMethod(options.method || this.method || \"GET\")\n        this.mode = options.mode || this.mode || null\n        this.referrer = null\n\n        if ((this.method === \"GET\" || this.method === \"HEAD\") && body) {\n            throw new TypeError(\"Body not allowed for GET or HEAD requests\")\n        }\n        this._initBody(body)\n    }\n\n    Request.prototype.clone = function() {\n        return new Request(this, { body: this._bodyInit })\n    }\n\n    function decode(body) {\n        var form = new FormData()\n        body.trim().split(\"&\").forEach(function(bytes) {\n            if (bytes) {\n                var split = bytes.split(\"=\")\n                var name = split.shift().replace(/\\+/g, \" \")\n                var value = split.join(\"=\").replace(/\\+/g, \" \")\n                form.append(decodeURIComponent(name), decodeURIComponent(value))\n            }\n        })\n        return form\n    }\n\n    function parseHeaders(rawHeaders) {\n        var headers = new Headers()\n        rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n            var parts = line.split(\":\")\n            var key = parts.shift().trim()\n            if (key) {\n                var value = parts.join(\":\").trim()\n                headers.append(key, value)\n            }\n        })\n        return headers\n    }\n\n    Body.call(Request.prototype)\n\n    function Response(bodyInit, options) {\n        if (!options) {\n            options = {}\n        }\n\n        this.type = \"default\"\n        this.status = \"status\" in options ? options.status : 200\n        this.ok = this.status >= 200 && this.status < 300\n        this.statusText = \"statusText\" in options ? options.statusText : \"OK\"\n        this.headers = new Headers(options.headers)\n        this.url = options.url || \"\"\n        this._initBody(bodyInit)\n    }\n\n    Body.call(Response.prototype)\n\n    Response.prototype.clone = function() {\n        return new Response(this._bodyInit, {\n            status: this.status,\n            statusText: this.statusText,\n            headers: new Headers(this.headers),\n            url: this.url\n        })\n    }\n\n    Response.error = function() {\n        var response = new Response(null, {status: 0, statusText: \"\"})\n        response.type = \"error\"\n        return response\n    }\n\n    var redirectStatuses = [301, 302, 303, 307, 308]\n\n    Response.redirect = function(url, status) {\n        if (redirectStatuses.indexOf(status) === -1) {\n            throw new RangeError(\"Invalid status code\")\n        }\n\n        return new Response(null, {status: status, headers: {location: url}})\n    }\n\n    self.Headers = Headers\n    self.Request = Request\n    self.Response = Response\n\n    self.fetch = function(input, init) {\n        return new Promise(function(resolve, reject) {\n            var request = new Request(input, init)\n            var xhr = new XMLHttpRequest()\n\n            xhr.onload = function() {\n                var options = {\n                    status: xhr.status,\n                    statusText: xhr.statusText,\n                    headers: parseHeaders(xhr.getAllResponseHeaders() || \"\")\n                }\n                options.url = \"responseURL\" in xhr ? xhr.responseURL : options.headers.get(\"X-Request-URL\")\n                var body = \"response\" in xhr ? xhr.response : xhr.responseText\n                resolve(new Response(body, options))\n            }\n\n            xhr.onerror = function() {\n                reject(new TypeError(\"Network request failed\"))\n            }\n\n            xhr.ontimeout = function() {\n                reject(new TypeError(\"Network request failed\"))\n            }\n\n            xhr.open(request.method, request.url, true)\n\n            if (request.credentials === \"include\") {\n                xhr.withCredentials = true\n            }\n\n            if (\"responseType\" in xhr && support.blob) {\n                xhr.responseType = \"blob\"\n            }\n\n            request.headers.forEach(function(value, name) {\n                xhr.setRequestHeader(name, value)\n            })\n\n            xhr.send(typeof request._bodyInit === \"undefined\" ? null : request._bodyInit)\n        })\n    }\n    self.fetch.polyfill = true\n})(typeof self !== \"undefined\" ? self : this);\n"],"sourceRoot":""}